/**
 * TI WooCommerce Wishlist Plugin Premium - More than just a Wishlist for WooCommerce, a powerful marketing & analytics tool.
 * @version 2.5.2
 * @subversion 7_8_3_7_6
 * @link https://templateinvaders.com/product/ti-woocommerce-wishlist-wordpress-plugin/
 */
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function TInvWL($,h){this.pf="tinvwl",this.g="_",this.ho=h||!1,this.n="TInvWL",this.aj_act=function(t){return[this.pf,t].join(this.g)},this._csel=function(t,n){return"{0}{1}{2}".format(n=n||".",this.pf,t)},this._tm=function(t){var n=$("script#{0}[type='text/template']".format(t));return n.length?n.html():""},this.formElm=function(){if($(this._csel("-form-onoff")).tiwl_onoff(),$("input[type=checkbox][tiwl-show], input[type=checkbox][tiwl-hide]").tiwl_onoffblock(),$("[tiwl-required]").tiwl_requiredcondition(),$("[tiwl-value][tiwl-show], [tiwl-value][tiwl-hide]").tiwl_byvalueblock(),$(".tinvwl-form-preview-select button").on("click",this._preview_button),void 0!==$.fn.wpColorPicker){var c=function(t){var n=0,i=0,e=0,o=1;if(/^\#[0-9a-f]{6}$/i.test(t)){var r=t.substring(1),c=parseInt(r,16);n=c>>16&255,i=c>>8&255,e=c>>0&255}else/^rgba/i.test(t)?(c=t.match(/(\d{1,3})\,\s*(\d{1,3})\,\s*(\d{1,3})\,\s*([0-9\.]+)/i)||[0,0,0,0,1],n=parseInt(c[1]),i=parseInt(c[2]),e=parseInt(c[3]),o=parseFloat(c[4])):/^rgb/i.test(t)&&(c=t.match(/(\d{1,3})\,\s*(\d{1,3})\,\s*(\d{1,3})/i)||[0,0,0,0,1],n=parseInt(c[1]),i=parseInt(c[2]),e=parseInt(c[3]));return.2126*n+.7152*i+.0722*e+255*(1-o)},n=this._csel("-form-color");$(n).each(function(){var n=$(this),t=$(this).closest(".tinvwl-color-picker"),i=t.find(".tinvwl-eyedropper");n.css({"background-color":n.val(),width:""}),175<c(n.val())&&n.css("color","#000000"),n.iris({mode:"hsv",target:$(this).parent().parent(),change:function(t,n){175<c(n.color.toCSS())?$(this).css("color","#000000"):$(this).css("color",""),$(this).css({"background-color":n.color.toCSS(),width:""})}}),t.on("click",".iris-square-value",function(t){t.preventDefault(),n.iris("toggle")}),i.on("click",function(t){t.preventDefault(),n.iris("show")}),n.on("focusin",function(){n.iris("show")})}),$(document).on("click",function(t){$(t.target).is(n+", .iris-picker, .iris-picker-inner, .iris-slider-offset, .tinvwl-eyedropper, .tinvwl-eyedropper .ftinvwl-eyedropper")?$(n).not($(t.target).closest(".tinvwl-color-picker").find(n)).iris("hide"):$(n).iris("hide")})}$(".tinvwl-color-important-picker").each(function(){var i=$(this).find(".tinvwl-color-important_color"),e=$(this).find(".tinvwl-color-important_important"),o=$(this).find(".tinvwl-color-important_value"),r=null;o.val(i.val()+(e.is(":checked")?" !important":"")),i.iris({mode:"hsv",target:$(this).parent().parent(),change:function(t,n){175<c(n.color.toCSS())?$(this).css("color","#000000"):$(this).css("color",""),$(this).css({"background-color":n.color.toCSS(),width:""}),o.val(i.val()+(e.is(":checked")?" !important":"")),r&&clearTimeout(r),r=setTimeout(function(){o.val(i.val()+(e.is(":checked")?" !important":""))},200)}}),i.change(function(){o.val(i.val()+(e.is(":checked")?" !important":""))}),e.change(function(){o.val(i.val()+(e.is(":checked")?" !important":""))})}),$(".tinvwl-box-shadow-elements").each(function(){var i=function(){var t=$(this).attr("name").replace(/_(color_color|color_important|inset|hshadow|vshadow|blur|spread)/i,""),n=($("select[name="+t+"_inset]").val()||"")+" "+($("input[name="+t+"_hshadow]").val()||0)+"px "+($("input[name="+t+"_vshadow]").val()||0)+"px "+($("input[name="+t+"_blur]").val()||0)+"px "+($("input[name="+t+"_spread]").val()||0)+"px "+($("input[name="+t+"_color_color]").val()||"#000000")+($("input[name="+t+"_color_important]").is(":checked")?" !important":"");$("input[name="+t+"]").val(n.trim())};$(this).find("input[name$=_color_color]").iris({mode:"hsv",target:$(this).parent().parent(),change:function(t,n){175<c(n.color.toCSS())?$(this).css("color","#000000"):$(this).css("color",""),$(this).css({"background-color":n.color.toCSS(),width:""}),i.call(this)}}),$(this).find("input[name$=_color_important],select[name$=_inset],input[name$=_hshadow],input[name$=_vshadow],input[name$=_blur],input[name$=_spread]").change(i),$(this).find("select[name$=_inset]").trigger("change")})},this.getform_section=function(t){var o={};return $('[name^="'+t+'"]').each(function(){var t=$(this),n=t.attr("type"),i=t.attr("name"),e=t.val();"checkbox"===n||"radio"===n?t.is(":checked")&&(o[i]=e):o[i]=e}),o},this.presave_section=function(t){var n={};if("object"===_typeof(t)){for(var i in t)if("string"==typeof t[i]){var e=this.getform_section(t[i]);for(var o in e)n[o]=e[o]}}else"string"==typeof t&&(n=this.getform_section(t));$.ajax({url:window.location.href,async:!1,method:"POST",data:n})},this.preview_button=function(t){t=$(t);this.presave_section(["notifications_style","promotional_email"]),window.open(t.attr("href"),"","width=600,height=900,resizable=yes,scrollbars=yes,status=yes")},this.wizard_page=function(t){$(t).find("select").change(this._wizard_page_ch),this.wizard_page_ch($(t).find("select"))},this.wizard_page_ch=function(t){var n=(t=$(t)).parent(this._csel("-page-select")),i=n.find("input[type=hidden]").val(),e=n.find(this._csel("-error-icon")),o=n.find(this._csel("-error-desc"));""!==t.val()?(n.removeClass("tinvwl-error"),e.hide(),o.hide()):0==i&&(n.addClass("tinvwl-error"),e.show(),o.show())},this.pageElm=function(){$(this._csel("-header","div.")).prependTo("#wpbody-content");var t=$(this._csel("-style-template select"));0<t.length&&(this.changetmpl(t),t.change(this._changetmpl)),$(this._csel("-page-select")).each(this._wizard_page),$(this._csel("-preparepromo-preview")).each(this._promotional_preview),$(".bulkactions [type=submit]").each(this._control_bulkactions),$(".action-search [type=submit]").each(this._control_search)},this.control_bulkactions=function(t){$(t).on("click",this._control_bulkactions_ck)},this.control_bulkactions_ck=function(t,n){var i=(t=$(t)).parents(".bulkactions").eq(0).find("[name=action]"),e=t.parents("form").eq(0);i&&("-1"===i.val()?n.preventDefault():e.find("input[type=checkbox]:checked").length||n.preventDefault())},this.control_search=function(t){$(t).on("click",this._control_search_ck)},this.promotional_preview=function(t){$(t).on("click",this._promotional_preview_ck)},this.promotional_preview_ck=function(t){var n=(t=$(t)).attr("data-type"),i=t.parents("form").eq(0),e={data_type:n,action:"prepare_promotion"};i.find("input, textarea, select").each(function(){e[$(this).attr("name")]=$(this).val()}),$.post(ajaxurl,e,this._promotional_preview_post,"json")},this.promotional_preview_post=function(t,n){"object"===_typeof(n)&&n.hasOwnProperty("url")&&window.open(n.url,"","width=600,height=900,resizable=yes,scrollbars=yes,status=yes")},this.changetmpl=function(t){t=$(t);$(this._csel("-style-options")).html(""),$(this._csel("-style-options")).next("input[type=hidden]").remove(),$(this._csel("-style-options")).next("input[type=hidden]").remove(),$.post(ajaxurl,{action:"selecttemplate",selected:t.val()},this._changetmpl_post)},this.changetmpl_post=function(t,n){$(this._csel("-style-options")).replaceWith(n),this.formElm()},this.Run=function(){this.formElm(),this.pageElm()},this.cg=function(){var t=this.n;if(this.ho){var n=new Date;t=t+n.getFullYear()+n.getMonth()+n.getDate()}window[t]=this},this.cg(),String.prototype.format||(String.prototype.format=function(){var i=arguments;return this.replace(/{(\d+)}/g,function(t,n){return void 0!==i[n]?i[n]:t})}),function(o){var n=o.n,ho=o.ho,c="";for(var i in ho&&(c="t=new Date(),n=n+t.getFullYear()+t.getMonth()+t.getDate(),"),o)"function"!=typeof o[i]||"_"===i[0]||o.hasOwnProperty("_"+i)||eval("o._"+i+"=function(a,b,c,d){var n='"+n+"',"+c+"o=window[n]||null;if (o) {return o."+i+"(this,a,b,c,d);};};")}(this)}!function(l){l.fn.tiwl_onoff=function(t){var o=l.extend(!0,{},{value:{on:"",off:""},class:"tiwlform-onoff",wrap:"container",button:"button"},t);return l(this).each(function(){var n=l(this),t=l("<div>").attr({class:o.class+"-"+o.button}),i=o.class+"-"+o.wrap,e=l("<div>").attr({id:n.attr("id")+"_"+o.wrap,class:i});return n.is("input")&&(e.attr("class",e.attr("class")+" "+n.attr("class")),n.is(":disabled")&&(e.toggleClass("disabled",n.is(":disabled")),n.prop("disabled",!1)),e.toggleClass("checked",n.is(":checked")),n.hide().removeAttr("class").wrap(e).before(t),e=n.parent(),n.on("change",function(t){if(e.hasClass("disabled"))return t.preventDefault();e.toggleClass("checked",l(this).is(":checked"))}),e.on("click",function(t){if(e.hasClass("disabled"))return t.preventDefault();n.is(":enabled")&&e.hasClass("checked")===n.is(":checked")&&n.click()})),n})},l.fn.tiwl_onoffblock=function(t){var n={onEachElm:function(){},isChecked:function(){return l(this).is(":checked")}},r=l.extend(!0,{},n,t);return l(this).each(function(){var t=l(this),n=function(){var t=l(this),n=t.attr("tiwl-show"),i=t.attr("tiwl-hide"),e=r.isChecked.call(t),o=function(t,i){t=t.match(/[\w\d-\>\.\#\:\=\[\]]+/gim)||[],l.each(t,function(t,n){r.onEachElm.call(l(n).toggle(i))})};return"string"==typeof n&&o(n,e),"string"==typeof i&&o(i,!e),t};return t.is("input")&&"checkbox"==t.attr("type")?(l(this).on("change",n),n.call(t)):t})},l.fn.tiwl_requiredcondition=function(t){var n={attribute:"tiwl-required",onShow:function(){return l(this).show()},onHide:function(){return l(this).hide()},onToggle:function(t,n){n?l(this).trigger("tiwl_condition.show"):l(this).trigger("tiwl_condition.hide")},onCheck:function(n){var i=l(this),e=!1;return"checkbox"===i.attr("type")||"radio"===i.attr("type")?(i=i.filter(":checked")).length?(i.each(function(){if("object"===_typeof(n))for(var t in n)i.val()==n[t]&&(e=!0);else e=e||l(this).val()==n}),e):!n:(i.each(function(){if("object"===_typeof(n))for(var t in n)i.val()==n[t]&&(e=!0);else e=e||l(this).val()==n}),e)},condition:{},fullcheck:!0},s=l.extend(!0,{},n,t);return l(this).each(function(){var n=l(this),a=n.attr(s.attribute)||s.condition;if(a){if("string"==typeof a)try{a=JSON.parse(a)}finally{if(!a)return}for(var t in n.on("tiwl_condition.show",s.onShow),n.on("tiwl_condition.hide",s.onHide),n.on("tiwl_condition.toggle",s.onToggle),n.on("tiwl_condition.check",function(t,n){var i,e=null;if(s){var o=!0,r=!1;for(var c in a)if((i=l('[name="'+c+'"]')).length&&(o=o&&s.onCheck.call(i,a[c]),r=r||!0),!o)break;r&&(e=o)}else a.hasOwnProperty(n)&&(i=l('[name="'+n+'"]')).length&&(e=s.onCheck.call(i,a[n]));null!==e&&l(this).trigger("tiwl_condition.toggle",[e])}),a)l("body").on("click change",'[name="'+t+'"]',function(t){n.trigger("tiwl_condition.check",[l(this).attr("name")])});n.trigger("tiwl_condition.check")}})},l.fn.tiwl_byvalueblock=function(t){var n={onEachElm:function(){},onClick:function(){return l(this).val()==l(this).attr("tiwl-value")}},i=l.extend(!0,{},n,t);return l(this).each(function(){var t=l(this),n=function(e){var t=l(this),n=t.attr("tiwl-show"),i=t.attr("tiwl-hide"),o=e.onClick.call(t),r=function(t,i){t=t.match(/[\w\d-\>\.\#\:\=\[\]]+/gim)||[],l.each(t,function(t,n){e.onEachElm.call(l(n).toggle(i))})};return"string"==typeof n&&r(n,o),"string"==typeof i&&r(i,!o),t};return t.is("input")||t.is("select")?(l(this).on("change",function(){n.call(this,i)}),n.call(t,i)):t})},l.fn.tiwl_resetval=function(t){var i=l.extend(!0,{},{events:"click",value:null,onAction:function(){},onCancelAction:function(){},onContinueAction:function(){}},t);return l(this).each(function(){var t=l(this),n=i.value||t.val();t.on(i.events,function(t){i.onAction.call(this,t,n)}),t.on("value_reset",function(t){i.onCancelAction.call(this,t,n),l(this).val(n)}),t.on("value_leave",i.onContinueAction)})};var n=new TInvWL(l);l(document).ready(function(){if(n.Run(),jQuery('input[name="general-multi"]').change(function(){var t=jQuery(this).is(":checked"),n=jQuery('input[name="general-show_notice"]'),i=jQuery('input[name="general-simple_flow"]');t&&!n.is(":checked")&&n.click().trigger("change"),t&&i.is(":checked")&&i.click().trigger("change"),n.closest(".tiwlform-onoff-container").toggleClass("disabled",t)}).change(),jQuery('input[name="general-show_notice"]').change(function(){var t=!jQuery(this).is(":checked"),n=jQuery('input[name="general-redirect_require_login"]');t&&!n.is(":checked")&&n.click().trigger("change"),n.closest(".tiwlform-onoff-container").toggleClass("disabled",t)}).change(),l(".tablenav").each(function(){var t=l(this);l.trim(t.find(".alignleft").html()).length||t.find(".alignleft").remove(),l.trim(t.find(".alignright").html()).length&&!t.find(".tablenav-pages").is(".one-page, .no-pages")||(t.find(".alignright").remove(),t.find(".tinv-wishlist-clear").remove()),l.trim(t.html()).length||t.remove()}),l(".tablenav .bulkactions select").addClass("tinvwl-select grey").wrap('<span class="tinvwl-select-wrap">').parent().append('<span class="tinvwl-caret"><span></span></span>'),l(".tablenav .bulkactions .button.action, .tablenav #search-submit").removeClass("button").addClass("tinvwl-btn grey"),l(".tinvwl-modal-btn").on("click",function(){l(this).next(".tinvwl-modal").addClass("tinvwl-modal-open")}),l(".tinvwl-overlay, .tinvwl-close-modal, .tinvwl_button_close").on("click",function(t){t.preventDefault(),l(this).parents(".tinvwl-modal:first").removeClass("tinvwl-modal-open")}),void 0!==l.fn.popover){var t=l(".tinvwl-help");t.popover({content:function(){return l(this).closest(".tinvwl-info-wrap").find(".tinvwl-info-desc").html()}}),t.on("click",function(){l(this).popover("toggle")}),t.on("focusout",function(){l(this).popover("hide")}),l(window).on("resize",function(){t.popover("hide")})}l("select[name=notification_template-TInvWL_Public_Email_Promotional]").tiwl_resetval({events:"change",onAction:function(t,n){var i=l(this),e=l(".tinvwl-notification-preview-emails");if(n==i.val())return t.preventDefault();e.addClass("tinvwl-modal-open"),e.find(".tinvwl-continue").click(function(){i.trigger("value_leave")}),e.find(".tinvwl-close").click(function(){i.trigger("value_reset")})}}),l("body").on("click",".tinvwl-confirm-reset",function(t){t.preventDefault(),confirm(tinvwl_comfirm.text_comfirm_reset)&&l(this).removeClass("tinvwl-confirm-reset").trigger("click")})})}(jQuery);